[tools]
rust = "1.93.1"
"cargo:cargo-dist" = "0.30.4"

[tasks.pre-commit]
run = [
  "cargo fmt --all -- --check",
  "cargo clippy --all-targets --all-features",
  "cargo test",
]

[tasks."release:check"]
run = [
  "cargo fmt --all -- --check",
  "cargo clippy --all-targets --all-features",
  "cargo test",
  "dist plan --allow-dirty",
]

[tasks."release:smoke-dist"]
run = [
  "dist build --artifacts=local --target $(rustc -vV | awk '/host:/ {print $2}') --allow-dirty",
]

[tasks."release:local"]
run = [
  "cargo build --release",
  "cp target/release/get \"$HOME/.local/bin/get\"",
]
