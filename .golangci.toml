version = "2"

[linters]
default = "all"
disable = [
    "cyclop",      # complexity checker; annoying
    "dupword",     # duplicate word checker; annoying (HTTP headers are called headers)
    "err113",      # requires defining all errors at package-levle; annoying
    "funlen",      # function length checker; not worth it
    "ireturn",     # bans returning interfaces; often unavoidable
    "lll",         # line length checker; annoying
    "nlreturn",    # requires newline before return; silly
    "noinlineerr", # disables if err :=; silly
    "wsl",         # whitespace checker; annoying
    "wsl_v5",      # new whitespace checker; annoying
]

[[linters.exclusions.rules]]
linters = ["gochecknoglobals"]
path = "internal/parser/parser.go"

[linters.settings.depguard.rules.all]
files = ["$all"]
allow = [
    "$gostd",
    "github.com/alecthomas/chroma/v2",
    "github.com/fatih/color$",
    "github.com/jclem/get/",
    "github.com/prataprc/goparsec$",
    "github.com/spf13/cobra$",
    "github.com/stretchr/testify/assert$",
    "github.com/stretchr/testify/require$",
]

[linters.settings.exhaustruct]
exclude = ["github.com/spf13/cobra\\.Command$"]

[linters.settings.mnd]
checks = [
    # "argument", # Remove argument; often used for channel size etc.
    "case",
    "condition",
    "operation",
    "return",
    "assign",
]

[linters.settings.varnamelen]
ignore-names = [
    "b",  # buffer
    "i",  # index
    "k",  # key
    "id", # identifier
    "ok", # ok
    "r",  # reader
    "v",  # value
    "w",  # writer
]
